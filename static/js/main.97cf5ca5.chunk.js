(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(35)},29:function(e,t,n){},30:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(20),c=n.n(o),r=(n(29),n(8)),s=n(9),l=n(11),u=n(10),d=n(5),m=n(12),p=(n(30),n(21)),h=n(6),b=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={itemList:[]},n.addPost=n.addPost.bind(Object(d.a)(n)),n.removePost=n.removePost.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"addPost",value:function(e,t,n){var a;a=Date.now();var i=this.state.itemList.concat({id:a,title:e,content:t,picture:n});this.setState({itemList:i})}},{key:"removePost",value:function(){var e=this.state.itemList.length,t=this.state.itemList.splice(0,e-1);this.setState({itemList:t})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement(p.a,{basename:"/post_page/"},i.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return i.a.createElement(v,Object.assign({},t,{removePost:e.removePost,itemList:e.state.itemList}))}}),i.a.createElement(h.a,{path:"/add_post",render:function(t){return i.a.createElement(E,Object.assign({},t,{addPost:e.addPost}))}})))}}]),t}(i.a.Component),v=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).toPostPage=n.toPostPage.bind(Object(d.a)(n)),n.toRemovePost=n.toRemovePost.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toPostPage",value:function(){this.props.history.push("/add_post")}},{key:"toRemovePost",value:function(){this.props.removePost()}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("button",{onClick:this.toPostPage},"Add Post"),i.a.createElement("button",{onClick:this.toRemovePost},"Remove Post"),i.a.createElement(P,{itemList:this.props.itemList}))}}]),t}(i.a.Component),E=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).submitPost=n.submitPost.bind(Object(d.a)(n)),n.uploadPic=n.uploadPic.bind(Object(d.a)(n)),n.uploadClick=n.uploadClick.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"uploadClick",value:function(){document.getElementById("pictureBox").click()}},{key:"uploadPic",value:function(){var e=document.getElementById("pictureBox").files[0],t=document.getElementById("previewImg"),n=document.getElementById("previewP");t.src=URL.createObjectURL(e),t.hidden=!1,n.hidden=!1}},{key:"submitPost",value:function(){var e=document.getElementById("titleBox").value,t=document.getElementById("contentBox").value,n=document.getElementById("pictureBox").files[0];this.props.addPost(e,t,n),this.props.history.push("/")}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("p",null,"Title:"),i.a.createElement("input",{className:"textBox",type:"text",id:"titleBox",maxLength:10}),i.a.createElement("p",null,"Content:"),i.a.createElement("textarea",{className:"textareaBox",id:"contentBox",defaultValue:"Please input Content."}),i.a.createElement("br",null),i.a.createElement("p",{id:"previewP",hidden:!0},"Preview:"),i.a.createElement("img",{id:"previewImg",className:"img",hidden:!0}),i.a.createElement("br",null),i.a.createElement("input",{id:"pictureBox",type:"file",accept:"image/*",onChange:this.uploadPic,hidden:!0}),i.a.createElement("button",{id:"pictureBtn",onClick:this.uploadClick},"upload"),i.a.createElement("button",{id:"submitPost",onClick:this.submitPost},"submit"),i.a.createElement("br",null))}}]),t}(i.a.Component),P=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.itemList.map(function(e){return i.a.createElement(f,{key:e.id,id:e.id,title:e.title,content:e.content,picture:e.picture})});return i.a.createElement("div",null,e)}}]),t}(i.a.Component),f=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(this.props.picture){var e=this.props.id,t=new FileReader;t.readAsDataURL(this.props.picture),t.onload=function(t){var n=document.getElementById(e);n.src=t.target.result,n.hidden=!1}}}},{key:"render",value:function(){return i.a.createElement("div",{className:"post"},i.a.createElement("p",null,this.props.title),i.a.createElement("p",null,this.props.content),i.a.createElement("img",{id:this.props.id,className:"img",hidden:!0}))}}]),t}(i.a.Component),j=b;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.97cf5ca5.chunk.js.map